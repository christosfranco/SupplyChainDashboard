<div class="base">
  <div class="header">
    <div class="button-span">
      <div class="import-export">
        <a routerLink="/"  class="vis-page-btns  new-sc-btn">Import new Files</a>
        <button class="vis-page-btns  export-btn" (click)="exportChart()">Export Graph</button>
      </div>
      <h1>Supply Chain Visualisation</h1>
      <div class="filter-div">
        <button *ngIf="!filters;else appliedButton" class="filter-btn vis-page-btns" (click)="openModal('filter-modal')">Add Filter</button>
      </div>
    </div>
  </div>

  <ng-template #appliedButton>
    <button *ngIf="filters" class="vis-page-btns" id="show-applied" (click)="showApplied()">Show applied filter</button>
  </ng-template>


<!--  <div *ngIf="noFiltersMsg" id="no-filters-msg">-->
<!--    <img id="no-filters-img"-->
<!--         ngSrc="{{ imageUrl_attention }}" height="20" width="20" alt="Attention">-->
<!--    <p>No filter to show</p></div>-->

  <div class="content-container">
    <div class="graph-container">
      <div class="vis-card">
        <app-dag-visualisation *ngIf="nodes" [nodes]="nodes" (nodeClick)="onNodeClick($event)"></app-dag-visualisation>
      </div>
    </div>

    <div class="applied-filters-container">
      <app-applied-filters
        [filters]="filters" (clearFilters)="handleClearFilters()" [concernForest]="concernForest"
        (editFilters)="handleEditFilters($event.id, $event.selectedFilters)">
      </app-applied-filters>
    </div>
  </div>

  <modal id="filter-modal" title ="Add New Filter">
    <filter (filterSelected)="handleFilterSelected($event)" [concernForest]="concernForest" ></filter>
  </modal>

  <modal class="export-modal" id="export-modal" title="Export Supply Chain">
  </modal>

</div>
